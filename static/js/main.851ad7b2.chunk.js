(this["webpackJsonpresults-viewer"]=this["webpackJsonpresults-viewer"]||[]).push([[0],{21:function(e){e.exports=JSON.parse('{"monza":"Monza","monza_2019":"Monza","zolder":"Zolder","zolder_2019":"Zolder","brands_hatch":"Brands Hatch","brands_hatch_2019":"Brands Hatch","silverstone":"Silverstone","silverstone_2019":"Silverstone","paul_ricard":"Paul Richard","paul_ricard_2019":"Paul Richard","misano":"Misano","misano_2019":"Misano","spa":"Spa","spa_2019":"Spa","nurburgring":"N\xfcrburgring","nurburgring_2019":"N\xfcrburgring","barcelona":"Barcelona","barcelona_2019":"Barcelona","hungaroring":"Hungaroring","hungaroring_2019":"Hungaroring","zandvoort":"Zandvoort","zandvoort_2019":"Zandvoort"}')},22:function(e){e.exports=JSON.parse('{"Q":"Qualifying","S":"Superpole","R":"Race"}')},23:function(e){e.exports=JSON.parse('{"0":"Porsche 991 GT3","1":"Mercedes AMG GT3","2":"Ferrari 488 GT3","3":"Audi R8 LMS","4":"Lamborghini Huracan GT3","5":"McLaren 650s GT3","6":"Nissan GT R Nismo GT3 (2018)","7":"BMW M6 GT3","8":"Bentley Continental GT3 (2018)","9":"Porsche 991.2 GT3 Cup","10":"Nissan GT-R Nismo GT3 (2017)","11":"Bentley Continental GT3 (2016)","12":"Aston Martin Vantage V12 GT3","13":"Lamborghini Gallardo R-EX","14":"Jaguar G3","15":"Lexus RCF GT3","16":"Lamborghini Huracan Evo (2019)","17":"Honda NSX GT3","18":"Lamborghini Huracan Super Trofeo","19":"Audi R8 LMS Evo (2019)","20":"AMR V8 Vantage (2019)","21":"Honda NS XEvo (2019)","22":"McLaren 720S GT3 (2019)","23":"Porsche 911 II GT3 R (2019)","50":"Alpine A110 GT4","51":"Aston Martin Vantage GT4","52":"Audi R8 LMS GT4","53":"BMW M4 GT4","55":"Chevrolet Camaro GT4","56":"Ginetta G55 GT4","57":"KTM X-Bow GT4","58":"Maserati MCGT4","59":"McLaren 570S GT4","60":"Mercedes AMG GT4","61":"Porsche 718 Cayman GT4"}')},28:function(e,a,t){e.exports=t(42)},33:function(e,a,t){},34:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(14),i=t.n(o),c=(t(33),t(34),t(8)),s=t(9),l=t(13),u=t(11),d=t(21),m=t(22),p=t(23),g=t(24),f=t(6),h=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){return Object(c.a)(this,t),a.call(this,e)}return Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(g.a,{className:"result-table",variant:"dark",hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Overall pos"),n.a.createElement("th",null,"Category pos"),n.a.createElement("th",null,"Car #"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Category"))),n.a.createElement("tbody",null,this.props.lines.map((function(e){var a=e.currentDriver.firstName+" "+e.currentDriver.lastName;return n.a.createElement("tr",{className:f[e.car.cupCategory]},n.a.createElement("td",null,e.position),n.a.createElement("td",null,e.cupPosition),n.a.createElement("td",null,e.car.raceNumber),n.a.createElement("td",null,a),n.a.createElement("td",{className:e.timing.fastestLap?"fastest":""},f[e.car.cupCategory]))}))))}}]),t}(r.Component),b=t(27),v=t(25),E=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){return Object(c.a)(this,t),a.call(this,e)}return Object(s.a)(t,[{key:"getResultsForCategory",value:function(e){if("Overall"===e)return this.props.results.leaderboard;var a=Object.keys(f).find((function(a){return f[a]===e}));return this.props.results.leaderboard.filter((function(e){return e.car.cupCategory===parseInt(a,10)}))}},{key:"render",value:function(){var e=this,a=this.props.results.cupCategories;return a.sort(),(a=a.map((function(e){return f[e]}))).unshift("Overall"),n.a.createElement("div",null,n.a.createElement(b.a,{className:"category-tabs"},a.map((function(a){return n.a.createElement(v.a,{eventKey:a,title:a,key:a},n.a.createElement("div",{className:"result-tab"},n.a.createElement(h,{lines:e.getResultsForCategory(a)})))}))))}}]),t}(r.Component),T=t(26),G=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=a.call(this,e)).onFileRead=function(e){var a=r.fReader.result,t=JSON.parse(a),n={session:m[t.sessionType],track:d[t.trackName]},o=r.addPositionField(t.sessionResult.leaderBoardLines);n.leaderboard=o,n=r.addCategories(n),n=r.markFastestLap(n),r.content=n,r.setState({dataLoaded:!0})},r.msToTime=function(e){return new Date(e).toISOString().slice(14,-1)},r.addPositionField=function(e){var a={0:0,1:0,2:0,3:0,4:0};return e.map((function(t,n){return a[t.car.cupCategory]+=1,t.position=n+1,t.cupPosition=a[t.car.cupCategory],t.carName=p[t.car.carModel],t.timing.timeDiff=0===n?0:e[n].timing.bestLap-e[0].timing.bestLap,t.timing.timeDiffFormatted=0===n?"":"+"+r.msToTime(t.timing.timeDiff),t.timing.bestLapFormatted=r.msToTime(t.timing.bestLap),t}))},r.addCategories=function(e){var a=[];return console.log("---------"),console.log(e),console.log("---------"),e.leaderboard.forEach((function(e){a.includes(e.car.cupCategory)||a.push(e.car.cupCategory)})),e.cupCategories=a,e},r.markFastestLap=function(e){var a={0:{bestLap:Number.MAX_SAFE_INTEGER,car:void 0},1:{bestLap:Number.MAX_SAFE_INTEGER,car:void 0},2:{bestLap:Number.MAX_SAFE_INTEGER,car:void 0},3:{bestLap:Number.MAX_SAFE_INTEGER,car:void 0},4:{bestLap:Number.MAX_SAFE_INTEGER,car:void 0}};return e.leaderboard.forEach((function(e){e.timing.bestLap<a[e.car.cupCategory].bestLap&&(a[e.car.cupCategory].bestLap=e.timing.bestLap,a[e.car.cupCategory].car=e)})),e.leaderboard.forEach((function(e){a[e.car.cupCategory]&&(e.timing.fastestLap=e.car.carId===a[e.car.cupCategory].car.car.carId)})),e},r.onUpload=function(){r.fReader.onloadend=r.onFileRead,r.fReader.readAsText(r.fileInput.current.files[0],"UTF-16LE")},r.handleChange=function(e){r.setState({title:e.target.value})},r.state={dataLoaded:!1,title:""},r.fileInput=n.a.createRef(),r.fReader=new FileReader,r}return Object(s.a)(t,[{key:"render",value:function(){var e=n.a.createElement("div",{className:"div-1"},n.a.createElement("div",null,n.a.createElement("input",{type:"file",ref:this.fileInput})),n.a.createElement("div",null,n.a.createElement(T.a,{type:"button",onClick:this.onUpload},"load")));return this.state.dataLoaded&&(e=n.a.createElement(E,{results:this.content})),n.a.createElement("div",null,e)}}]),t}(r.Component);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk",crossorigin:"anonymous"}),n.a.createElement("header",{className:"App-header"},n.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e){e.exports=JSON.parse('{"0":"PRO","1":"PRO-AM","2":"AM","3":"Silver","4":"National"}')}},[[28,1,2]]]);
//# sourceMappingURL=main.851ad7b2.chunk.js.map